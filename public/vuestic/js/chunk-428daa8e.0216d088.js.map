{"version":3,"sources":["webpack:///./src/view/components/modal.vue?9ed3","webpack:///src/view/components/modal.vue","webpack:///./src/view/components/modal.vue?232c","webpack:///./src/view/components/modal.vue","webpack:///./src/view/components/uploader/index.vue?2883","webpack:///./node_modules/core-js/modules/es6.string.big.js","webpack:///./src/view/components/uploader/index.vue?dec4","webpack:///src/view/components/uploader/index.vue","webpack:///./src/view/components/uploader/index.vue?fcac","webpack:///./src/view/components/uploader/index.vue","webpack:///./src/view/components/modal.vue?ef95"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","name","staticClass","class","wrapperClass","_t","staticRenderFns","modalvue_type_script_lang_js_","data","modal","props","big","type","Boolean","default","mounted","_this","document","addEventListener","e","keyCode","$emit","computed","components_modalvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","createHTML","ref","id","file","on","close","$event","slot","_v","src","url","medium","_e","uploadervue_type_script_lang_js_","loading","apiUrl","String","required","images","Array","components","Modal","vueDropzone","vue2Dropzone_default","a","created","token","$store","getters","timeout","maxFilesize","uploadMultiple","acceptedFiles","headers","Authorization","concat","dictFileTooBig","$i18n","translate","dictDefaultMessage","renameFile","success","response","onSuccess","error","_error","message","xhr","onError","fileAddedManually","console","log","_this2","that","map","image","$refs","dropzoneRef","manuallyAddFile","small","dropzone","files","previewElement","methods","dt","Date","time","getTime","dispatch","text","status_code","components_uploadervue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_modal_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_modal_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"vuestic/js/chunk-428daa8e.0216d088.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"modal\"}},[_c('div',{staticClass:\"modal-mask\"},[_c('div',{staticClass:\"modal-wrapper\"},[_c('div',{staticClass:\"modal-container\",class:_vm.wrapperClass},[_c('div',{staticClass:\"modal-header\"},[_vm._t(\"header\")],2),_c('div',{staticClass:\"modal-body\"},[_vm._t(\"body\")],2),_c('div',{staticClass:\"modal-footer\"},[_vm._t(\"footer\")],2)])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <transition name=\"modal\">\n    <div class=\"modal-mask\">\n      <div class=\"modal-wrapper\">\n        <div class=\"modal-container\" :class=\"wrapperClass\">\n\n          <div class=\"modal-header\">\n            <slot name=\"header\"></slot>\n          </div>\n\n          <div class=\"modal-body\">\n            <slot name=\"body\"></slot>\n          </div>\n\n          <div class=\"modal-footer\">\n            <slot name=\"footer\"></slot>\n          </div>\n\n        </div>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script>\nexport default {\n\tname: 'modal',\n\n  data () {\n  \treturn {\n      modal: false\n\t  }\n  },\n\n  props: {\n    big: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  mounted: function () {\n    document.addEventListener(\"keydown\", (e) => {\n      if (e.keyCode == 27) {\n        this.$emit('onClose')\n      }\n    });\n  },\n\n  computed: {\n    wrapperClass () {\n      return this.big ? 'big-modal' : ''\n    }\n  }\n\n}\n\n</script>\n\n<style>\n.modal-mask {\n  position: fixed;\n  z-index: 9998;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, .5);\n  display: table;\n  transition: opacity .3s ease;\n}\n\n.big-modal {\n  width: 1000px !important;\n  max-width: 80% !important;\n}\n\n.modal-wrapper {\n  display: table-cell;\n  vertical-align: middle;\n}\n\n.modal-container {\n  width: 600px;\n  max-width: 100%;\n  margin: 0px auto;\n  padding: 10px 20px;\n  border-radius: 2px;\n  background-color: #fff;\n  border: 10px solid white;  \n  box-shadow: 0 2px 8px rgba(0, 0, 0, .33);\n  transition: all .3s ease;\n  font-family: Helvetica, Arial, sans-serif;\n}\n\n/*\n * The following styles are auto-applied to elements with\n * transition=\"modal\" when their visibility is toggled\n * by Vue.js.\n *\n * You can easily play with the modal transition by editing\n * these styles.\n */\n\n.modal-enter {\n  opacity: 0;\n}\n\n.modal-leave-active {\n  opacity: 0;\n}\n\n.modal-enter .modal-container,\n.modal-leave-active .modal-container {\n  -webkit-transform: scale(1.1);\n  transform: scale(1.1);\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./modal.vue?vue&type=template&id=3e0ec0b0&\"\nimport script from \"./modal.vue?vue&type=script&lang=js&\"\nexport * from \"./modal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./modal.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"modal.vue\"\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=css&\"","'use strict';\n// B.2.3.3 String.prototype.big()\nrequire('./_string-html')('big', function (createHTML) {\n  return function big() {\n    return createHTML(this, 'big', '', '');\n  };\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"mt-5\"},[_c('vue-dropzone',{ref:\"dropzoneRef\",attrs:{\"id\":\"dropzone\",\"options\":_vm.options}})],1),(_vm.file)?_c('modal',{attrs:{\"file\":_vm.file},on:{\"close\":function($event){_vm.file = false}}},[_c('h3',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_vm._v(\"{file.name}\")]),_c('img',{attrs:{\"slot\":\"body\",\"src\":_vm.file.url.medium},slot:\"body\"})]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n  \t<div class=\"mt-5\">\n  \t  <vue-dropzone \n  \t    ref=\"dropzoneRef\" \n  \t    id=\"dropzone\" \n  \t    :options=\"options\"\n  \t  >\n    \t</vue-dropzone>\n    </div>\n\n    <modal v-if=\"file\" @close=\"file = false\" :file=\"file\">\n      <h3 slot=\"header\">{file.name}</h3>\n\n      <img slot=\"body\" :src=\"file.url.medium\"/>\n    </modal>\n  </div>\n</template>\n\n<script>\nimport vue2Dropzone from 'vue2-dropzone'\nimport Modal from 'view/components/modal'\n\nimport 'vue2-dropzone/dist/vue2Dropzone.min.css'\n\nexport default {\n\tname: 'uploader',\n\n  data () {\n  \treturn {\n      file: false,\n  \t\toptions: {},\n\t    loading: false      \n\t  }\n  },\n\n  props: {\n    apiUrl: {\n      type: String,\n    \trequired: true\n    },\n    images: {\n      type: Array,\n    \trequired: true\n    }\n  },\n\n  components: {\n    Modal,\n    vueDropzone: vue2Dropzone    \n  },\n\n  created () {\n    const token = this.$store.getters.token\n\n    this.options = {\n    \ttimeout: 5000,\n\t\t\tmaxFilesize: 2,\n      uploadMultiple: false,\n      acceptedFiles: \".jpeg,.jpg,.png,.gif\",\n\n      url: this.apiUrl,\n      headers: { Authorization: `Bearer ${token}` },\n      dictFileTooBig: this.$i18n.translate('file.big'),\n\t\t\tdictDefaultMessage: this.$i18n.translate('file.upload'),\n\n\t\t\t// init: () => this.init(),\n      renameFile: (file) => this.renameFile(file),\n      success: (file, response) => this.onSuccess(file, response),\n\t\t\terror: (error, message, xhr) => this.onError(error, message, xhr),\n\t\t\tfileAddedManually: () => console.log(1231)\n    }\n  },\n\n  mounted () {\n    let that = this\n\n    this.images.map(image => {\n    // \tconsole.log(image)\n    // \tconsole.log(image.previewElement.addEventListener(\"click\", function() {\n\t\t  //   myDropzone.removeFile(file)\n\t\t  // }))\n    \tthis.$refs.dropzoneRef.manuallyAddFile(image, image.url.small)\n\t\t})\n\t\tthis.$refs.dropzoneRef.dropzone.files.map(file => {\n        file.previewElement.addEventListener(\"click\", function() {\n          console.log(that)\n          that.file = file\n          console.log(that)\n        })\n    })\n  },\n\n  // beforeDestroy () {\n  //   this.destroyUploader()\n  // },\n\n  methods: {\n  \t// init () {\n  \t// \tconsole.log(this)\n  \t// \tconsole.log(this.$refs.dropzoneRef.getAddedFiles())\n  \t\t// this.$refs.dropzoneRef.previewElement.addEventListener(\"click\", function() {\n    //     alert(file.name)\n    //   })\n  \t// },\n  \trenameFile (file) {\n      const dt = new Date()\n      const time = dt.getTime()\n\n     \treturn time + '-' + file.name\n  \t},\n  \tonSuccess (file,response) {\n  \t\tthis.$emit('onUpload', response)\n  \t},\n  \tonError (file, message, xhr) {\n  \t\tthis.$store.dispatch('addToastMessage',\n        { text: this.$i18n.translate(`errors.${message.status_code}`) }\n      )\n  \t},\n\n    // destroyUploader () {\n    //   this.$refs.dropzoneRef.destroy()\n    // }\n  }\n}\n\n</script>\n\n<style>\n.dz-image-preview * {\n  cursor: pointer !important;\n}\n\n.modal-mask {\n  position: fixed;\n  z-index: 9998;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, .5);\n  display: table;\n  transition: opacity .3s ease;\n}\n\n.modal-wrapper {\n  display: table-cell;\n  vertical-align: middle;\n}\n\n.modal-container {\n  width: 300px;\n  margin: 0px auto;\n  padding: 20px 30px;\n  background-color: #fff;\n  border-radius: 2px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, .33);\n  transition: all .3s ease;\n  font-family: Helvetica, Arial, sans-serif;\n}\n\n.modal-header h3 {\n  margin-top: 0;\n  color: #42b983;\n}\n\n.modal-body {\n  margin: 20px 0;\n}\n\n.modal-default-button {\n  float: right;\n}\n\n/*\n * The following styles are auto-applied to elements with\n * transition=\"modal\" when their visibility is toggled\n * by Vue.js.\n *\n * You can easily play with the modal transition by editing\n * these styles.\n */\n\n.modal-enter {\n  opacity: 0;\n}\n\n.modal-leave-active {\n  opacity: 0;\n}\n\n.modal-enter .modal-container,\n.modal-leave-active .modal-container {\n  -webkit-transform: scale(1.1);\n  transform: scale(1.1);\n}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=ccadeeb4&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"index.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modal.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modal.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}