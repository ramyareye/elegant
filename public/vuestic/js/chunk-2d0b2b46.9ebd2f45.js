(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b2b46"],{"24f4":function(s,t,e){"use strict";e.r(t);var a=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"form-elements"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("vuestic-widget",{attrs:{headerText:s.role.name}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("blockquote",{staticClass:"blockquote"},[s._v("\n              "+s._s(s._f("translate")("role.permissions"))+"\n            ")])])]),e("div",{staticClass:"row"},s._l(s.permissionsItems,function(t){return e("div",{key:t.id,staticClass:"col col-md-3"},[e("div",{staticClass:"checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.permissions,expression:"permissions"}],attrs:{type:"checkbox",name:"permissions",name:t.id},domProps:{value:t.id,checked:Array.isArray(s.permissions)?s._i(s.permissions,t.id)>-1:s.permissions},on:{change:function(e){var a=s.permissions,i=e.target,n=!!i.checked;if(Array.isArray(a)){var r=t.id,o=s._i(a,r);i.checked?o<0&&(s.permissions=a.concat([r])):o>-1&&(s.permissions=a.slice(0,o).concat(a.slice(o+1)))}else s.permissions=n}}}),e("label",{attrs:{for:t.id}},[s._v(s._s(t.name))])])])})),e("div",{staticClass:"row mt-3"},[e("div",{staticClass:"col text-center"},[e("button",{staticClass:"btn btn-success",on:{click:s.add}},[s._v("\n              "+s._s(s._f("translate")("buttons.update"))+"\n            ")])])])])],1)])])},i=[],n=(e("7f7f"),e("a026")),r=e("d1d4"),o={name:"update-role",data:function(){return{role:{},id:"",name:"",permissions:[],permissionsItems:[]}},created:function(){var s=this;r["a"].get("roles/".concat(this.$route.params.id)).then(function(t){var e=t.data;s.role=e,s.id=e.id,s.name=e.name,s.permissions=e.permissions.data.map(function(s){return s.id}),s.loaded=!0}).catch(function(t){s.$store.dispatch("addToastMessage",{text:n["default"].i18n.translate("errors.".concat(t.data.status_code))}),s.$router.push({name:"roles"})}),r["a"].get("permissions").then(function(t){s.permissionsItems=t.data}).catch(function(t){s.$store.dispatch("addToastMessage",{text:n["default"].i18n.translate("errors.".concat(t.status))}),s.$router.push({name:"roles"})})},methods:{add:function(){var s=this;this.$validator.validateAll().then(function(t){if(t){var e={name:s.name,permissions:s.permissions};r["a"].put("roles/".concat(s.id),e).then(function(t){s.$store.dispatch("addToastMessage",{text:n["default"].i18n.translate("role.updated"),type:"success"}),s.$router.push({name:"role",params:{id:t.data.id}})}).catch(function(t){s.$store.dispatch("addToastMessage",{text:n["default"].i18n.translate("errors.any"),error:t}),s.$store.dispatch("addToastMessage",{text:t.data.message})})}})}}},c=o,d=e("2877"),l=Object(d["a"])(c,a,i,!1,null,null,null);l.options.__file="update.vue";t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2d0b2b46.9ebd2f45.js.map