(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-369fd2fa","chunk-6cf7b916","chunk-2c9e12e0"],{"04f7":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"modal"}},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper"},[a("div",{staticClass:"modal-container",class:e.wrapperClass},[a("div",{staticClass:"modal-header"},[e._t("header")],2),a("div",{staticClass:"modal-body"},[e._t("body")],2),a("div",{staticClass:"modal-footer"},[e._t("footer")],2)])])])])},i=[],r=(a("9c86"),{name:"modal",data:function(){return{modal:!1}},props:{big:{type:Boolean,default:!1}},mounted:function(){var e=this;document.addEventListener("keydown",function(t){27==t.keyCode&&e.$emit("onClose")})},computed:{wrapperClass:function(){return this.big?"big-modal":""}}}),n=r,o=(a("d93c"),a("2877")),l=Object(o["a"])(n,s,i,!1,null,null,null);l.options.__file="modal.vue";t["default"]=l.exports},"2ca8":function(e,t,a){"use strict";var s=a("e266"),i=a.n(s);i.a},"4d16":function(e,t,a){},"84eb":function(e,t,a){},"9c86":function(e,t,a){"use strict";a("386b")("big",function(e){return function(){return e(this,"big","","")}})},"9d58":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.loaded?a("div",{staticClass:"form-elements"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("vuestic-widget",{attrs:{headerText:e._f("translate")("menu.teams.update")}},[a("div",{staticClass:"row row-reverse"},[a("div",{staticClass:"col-4"},[a("div",{staticClass:"row row-reverse"},[a("div",{staticClass:"col"},[a("div",{staticClass:"form-group with-icon-right",class:{"has-error":e.errors.has("name")}},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:"name",name:"name",required:""},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}}),a("i",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("name"),expression:"errors.has('name')"}],staticClass:"fa fa-exclamation-triangle icon-right input-icon"}),a("label",{staticClass:"control-label",attrs:{for:"name"}},[e._v(e._s(e._f("translate")("team.name")))]),a("i",{staticClass:"bar"}),a("small",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("name"),expression:"errors.has('name')"}],staticClass:"help text-danger"},[e._v(e._s(e.errors.first("name"))+"\n                    ")])])])]),a("div",{staticClass:"col"},[a("div",{staticClass:"form-group with-icon-right",class:{"has-error":e.errors.has("name_en")}},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.name_en,expression:"name_en"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:"name_en",name:"name_en",required:""},domProps:{value:e.name_en},on:{input:function(t){t.target.composing||(e.name_en=t.target.value)}}}),a("i",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("name_en"),expression:"errors.has('name_en')"}],staticClass:"fa fa-exclamation-triangle icon-right input-icon"}),a("label",{staticClass:"control-label",attrs:{for:"name_en"}},[e._v(e._s(e._f("translate")("team.name_en")))]),a("i",{staticClass:"bar"}),a("small",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("name_en"),expression:"errors.has('name_en')"}],staticClass:"help text-danger"},[e._v(e._s(e.errors.first("name_en"))+"\n                    ")])])])])]),a("div",{staticClass:"row row-reverse"},[a("div",{staticClass:"col-9"},[a("div",{staticClass:"form-group with-icon-right",class:{"has-error":e.errors.has("position")}},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.position,expression:"position"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:"position",name:"position",required:""},domProps:{value:e.position},on:{input:function(t){t.target.composing||(e.position=t.target.value)}}}),a("i",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("position"),expression:"errors.has('position')"}],staticClass:"fa fa-exclamation-triangle icon-right input-icon"}),a("label",{staticClass:"control-label",attrs:{for:"position"}},[e._v(e._s(e._f("translate")("team.position")))]),a("i",{staticClass:"bar"}),a("small",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("position"),expression:"errors.has('position')"}],staticClass:"help text-danger"},[e._v(e._s(e.errors.first("position"))+"\n                    ")])])])]),a("div",{staticClass:"col-3"},[a("div",{staticClass:"form-group with-icon-right",class:{"has-error":e.errors.has("sort")}},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.sort,expression:"sort"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:"sort",name:"sort",type:"number",required:""},domProps:{value:e.sort},on:{input:function(t){t.target.composing||(e.sort=t.target.value)}}}),a("i",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("sort"),expression:"errors.has('sort')"}],staticClass:"fa fa-exclamation-triangle icon-right input-icon"}),a("label",{staticClass:"control-label",attrs:{for:"sort"}},[e._v(e._s(e._f("translate")("team.sort")))]),a("i",{staticClass:"bar"}),a("small",{directives:[{name:"show",rawName:"v-show",value:e.errors.has("sort"),expression:"errors.has('sort')"}],staticClass:"help text-danger"},[e._v(e._s(e.errors.first("sort"))+"\n                    ")])])])])])]),a("div",{staticClass:"col-4"},[a("div",{staticClass:"row"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.degrees,expression:"degrees"}],staticClass:"col",staticStyle:{"min-height":"150px"},attrs:{id:"degrees",name:"degrees",palceholder:e._f("translate")("team.degrees")},domProps:{value:e.degrees},on:{input:function(t){t.target.composing||(e.degrees=t.target.value)}}})])]),a("div",{staticClass:"col-4"},[a("Uploader",{attrs:{maxFiles:1,placeholder:e._f("translate")("team.image"),images:e.getImage,apiUrl:e.apiUrl},on:{onChange:e.reInitImage}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col col text-center mt-4"},[a("button",{staticClass:"btn btn-success",on:{click:e.update}},[e._v("\n              "+e._s(e._f("translate")("buttons.update"))+"\n            ")])])])])],1)])]):a("loading")},i=[],r=(a("55dd"),a("7f7f"),a("a026")),n=a("d1d4"),o=a("240f"),l=(a("38c1"),a("a1fc")),c={name:"update-team",data:function(){return{team:{},name:"",name_en:"",position:"",degrees:"",sort:0,apiUrl:"teams/"+this.$route.params.id+"/upload",loaded:!1}},components:{Loading:o["default"],Uploader:l["default"]},created:function(){var e=this;n["a"].get("teams/".concat(this.$route.params.id)).then(function(t){var a=t.data;e.team=a,e.id=a.id,e.name=a.name,e.name_en=a.name_en,e.position=a.position,e.degrees=a.degrees,e.sort=a.sort,e.loaded=!0}).catch(function(t){e.$store.dispatch("addToastMessage",{text:r["default"].i18n.translate("errors.".concat(t.data.status_code))}),e.$router.push({name:"teams"})})},methods:{getImage:function(){var e=this.team.image?[this.team.image.data]:[];return e},reInitImage:function(e){this.team=e.data},update:function(){var e=this;this.$validator.validateAll().then(function(t){if(t){var a={name:e.name,name_en:e.name_en,sort:e.sort,degrees:e.degrees,position:e.position};n["a"].put("teams/".concat(e.id),a).then(function(t){e.$store.dispatch("addToastMessage",{text:r["default"].i18n.translate("team.updated"),type:"success"}),e.$router.push({name:"team",params:{id:t.data.id}})}).catch(function(t){e.$store.dispatch("addToastMessage",{text:r["default"].i18n.translate("errors.any"),error:t})})}})}}},d=c,u=(a("d40d"),a("2877")),m=Object(u["a"])(d,s,i,!1,null,null,null);m.options.__file="update.vue";t["default"]=m.exports},a1fc:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("vue-dropzone",{ref:"dropzoneRef",attrs:{id:"dropzone",options:e.options,useCustomSlot:!!e.defaultImg}},[a("div",{staticClass:"dropzone-bg",style:e.bg,on:{mouseover:function(t){e.hoverSlot=!0},mouseleave:function(t){e.hoverSlot=!1}}},[a("transition",{attrs:{name:"fade"}},[a("i",{directives:[{name:"show",rawName:"v-show",value:e.hoverSlot,expression:"hoverSlot"}],staticClass:"glyphicon glyphicon-pencil"})])],1)]),e.file?a("modal",{on:{onClose:function(t){e.file=!1}}},[e.onlyImg?e._e():a("template",{slot:"header"},[a("div",{staticClass:"col text-center"},[e._v("\n        "+e._s(e.file.name)+"\n      ")])]),a("template",{slot:"body"},[a("div",{staticClass:"modal-body text-center"},[a("img",{attrs:{src:e.file.url.medium}}),e._l(e.file.url,function(t,s){return e.onlyImg?e._e():a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[e._v("\n            "+e._s(e._f("translate")("uploader."+s))+" :\n          ")]),a("div",{staticClass:"col-md-9 text-center"},[a("a",{staticClass:"btn btn-info btn-micro",attrs:{target:"_blank",href:t},domProps:{innerHTML:e._s(e.$t("uploader.open"))}}),a("button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:"file.url."+s,expression:"`file.url.${index}`",arg:"copy"}],staticClass:"btn btn-primary btn-micro",staticStyle:{"margin-right":"10px"},domProps:{innerHTML:e._s(e.$t("uploader.copy"))}})])])})],2)]),a("template",{slot:"footer"},[a("button",{staticClass:"btn btn-info btn-micro",domProps:{innerHTML:e._s(e.$t("uploader.close"))},on:{click:function(t){e.file=!1}}}),e.allowDelete?a("button",{staticClass:"btn btn-danger btn-micro",domProps:{innerHTML:e._s(e.$t("uploader.delete"))},on:{click:e.deleteFile}}):e._e()])],2):e._e()],1)},i=[],r=(a("7f7f"),a("f386"),a("c5f6"),a("04f7")),n=a("d1d4"),o=a("92c3"),l=a.n(o),c=(a("1e3f"),{name:"uploader",data:function(){return{file:!1,options:{},loading:!1,deleting:!1,hoverSlot:!1}},props:{hasSlot:{type:Boolean,defalut:!1},apiUrl:{type:String,required:!0},deleteApiUrl:{type:String,default:""},images:{type:Function,required:!0},maxFiles:{type:Number,default:100},allowDelete:{type:Boolean,default:!0},onlyImg:{type:Boolean,default:!1},placeholder:String,defaultImg:String},components:{Modal:r["default"],vueDropzone:l.a},created:function(){var e=this,t=this.$store.getters.token;this.options={timeout:5e3,maxFilesize:4,uploadMultiple:!1,maxFiles:this.maxFiles,acceptedFiles:".jpeg,.jpg,.png,.gif",url:"api/".concat(this.apiUrl),headers:{Authorization:"Bearer ".concat(t)},dictFileTooBig:this.$i18n.translate("file.big"),dictDefaultMessage:this.placeholder||this.$i18n.translate("file.upload"),renameFile:function(t){return e.renameFile(t)},success:function(t,a){return e.onSuccess(t,a)},error:function(t,a,s){return e.onError(t,a,s)}}},mounted:function(){this.init()},beforeDestroy:function(){this.$refs.dropzoneRef.destroy()},computed:{bg:function(){var e=this.defaultImg;return"background-image: url('".concat(e,"')")}},methods:{init:function(){var e=this,t=this.images();t.map(function(t){return e.$refs.dropzoneRef.manuallyAddFile(t,t.url.small)}),this.addOnClick()},reInit:function(e){this.$emit("onChange",e),this.$refs.dropzoneRef.removeAllFiles(),this.init()},addOnClick:function(){var e=this;this.$refs.dropzoneRef.dropzone.files.map(function(t){t.previewElement.addEventListener("click",function(){e.file=t})})},renameFile:function(e){var t=new Date,a=t.getTime();return a+"-"+e.name},onSuccess:function(e,t){this.reInit(t)},onError:function(e,t,a){this.$refs.dropzoneRef.removeFile(e),this.$store.dispatch("addToastMessage",{text:t})},deleteFile:function(){if(this.allowDelete&&!this.deleting){var e=this,t=this.file;this.$swal({type:"warning",showCancelButton:!0,cancelButtonColor:"#d33",confirmButtonColor:"#3085d6",title:e.$i18n.translate("alert.sure"),text:e.$i18n.translate("alert.sure_text"),cancelButtonText:e.$i18n.translate("alert.cancel"),confirmButtonText:e.$i18n.translate("alert.confirm")}).then(function(a){a.value&&(e.deleting=!0,n["a"].post(e.deleteApiUrl?e.deleteApiUrl:"".concat(e.apiUrl,"/").concat(t.id)).then(function(t){e.reInit(t),e.$swal({type:"success",title:e.$i18n.translate("uploader.deleted"),text:e.$i18n.translate("uploader.deleted_text"),confirmButtonText:e.$i18n.translate("alert.confirm")})}).finally(function(){e.file=!1,e.deleting=!1}))})}}}}),d=c,u=(a("2ca8"),a("2877")),m=Object(u["a"])(d,s,i,!1,null,null,null);m.options.__file="uploader.vue";t["default"]=m.exports},d40d:function(e,t,a){"use strict";var s=a("4d16"),i=a.n(s);i.a},d93c:function(e,t,a){"use strict";var s=a("84eb"),i=a.n(s);i.a},e266:function(e,t,a){}}]);
//# sourceMappingURL=chunk-369fd2fa.d17eb15b.js.map