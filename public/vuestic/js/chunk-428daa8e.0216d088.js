(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-428daa8e","chunk-6cf7b916"],{"04f7":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"modal"}},[n("div",{staticClass:"modal-mask"},[n("div",{staticClass:"modal-wrapper"},[n("div",{staticClass:"modal-container",class:e.wrapperClass},[n("div",{staticClass:"modal-header"},[e._t("header")],2),n("div",{staticClass:"modal-body"},[e._t("body")],2),n("div",{staticClass:"modal-footer"},[e._t("footer")],2)])])])])},i=[],a=(n("9c86"),{name:"modal",data:function(){return{modal:!1}},props:{big:{type:Boolean,default:!1}},mounted:function(){var e=this;document.addEventListener("keydown",function(t){27==t.keyCode&&e.$emit("onClose")})},computed:{wrapperClass:function(){return this.big?"big-modal":""}}}),s=a,r=(n("d93c"),n("2877")),l=Object(r["a"])(s,o,i,!1,null,null,null);l.options.__file="modal.vue";t["default"]=l.exports},6575:function(e,t,n){"use strict";var o=n("8899"),i=n.n(o);i.a},"84eb":function(e,t,n){},8899:function(e,t,n){},"9c86":function(e,t,n){"use strict";n("386b")("big",function(e){return function(){return e(this,"big","","")}})},cee6:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"mt-5"},[n("vue-dropzone",{ref:"dropzoneRef",attrs:{id:"dropzone",options:e.options}})],1),e.file?n("modal",{attrs:{file:e.file},on:{close:function(t){e.file=!1}}},[n("h3",{attrs:{slot:"header"},slot:"header"},[e._v("{file.name}")]),n("img",{attrs:{slot:"body",src:e.file.url.medium},slot:"body"})]):e._e()],1)},i=[],a=(n("7f7f"),n("f386"),n("92c3")),s=n.n(a),r=n("04f7"),l=(n("1e3f"),{name:"uploader",data:function(){return{file:!1,options:{},loading:!1}},props:{apiUrl:{type:String,required:!0},images:{type:Array,required:!0}},components:{Modal:r["default"],vueDropzone:s.a},created:function(){var e=this,t=this.$store.getters.token;this.options={timeout:5e3,maxFilesize:2,uploadMultiple:!1,acceptedFiles:".jpeg,.jpg,.png,.gif",url:this.apiUrl,headers:{Authorization:"Bearer ".concat(t)},dictFileTooBig:this.$i18n.translate("file.big"),dictDefaultMessage:this.$i18n.translate("file.upload"),renameFile:function(t){return e.renameFile(t)},success:function(t,n){return e.onSuccess(t,n)},error:function(t,n,o){return e.onError(t,n,o)},fileAddedManually:function(){return console.log(1231)}}},mounted:function(){var e=this,t=this;this.images.map(function(t){e.$refs.dropzoneRef.manuallyAddFile(t,t.url.small)}),this.$refs.dropzoneRef.dropzone.files.map(function(e){e.previewElement.addEventListener("click",function(){console.log(t),t.file=e,console.log(t)})})},methods:{renameFile:function(e){var t=new Date,n=t.getTime();return n+"-"+e.name},onSuccess:function(e,t){this.$emit("onUpload",t)},onError:function(e,t,n){this.$store.dispatch("addToastMessage",{text:this.$i18n.translate("errors.".concat(t.status_code))})}}}),c=l,u=(n("6575"),n("2877")),d=Object(u["a"])(c,o,i,!1,null,null,null);d.options.__file="index.vue";t["default"]=d.exports},d93c:function(e,t,n){"use strict";var o=n("84eb"),i=n.n(o);i.a}}]);
//# sourceMappingURL=chunk-428daa8e.0216d088.js.map